<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/reset.min.css" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.13.0/css/all.css"
      integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="css/style.css" />
    <title>funny style</title>
  </head>

  <body>
    <div class="container">
      <header>
        <h1><img src="images/header.jpg" alt="funny style" /></h1>
      </header>
      <main>
        <section>
          <div class="imgArea">
            <ul>
              <li class="imgArea-img01">
                <img src="images/img_001.jpg" alt="花の写真01" />
              </li>
              <li class="imgArea-img02">
                <img src="images/img_002.jpg" alt="花の写真02" />
              </li>
              <li class="imgArea-img03">
                <img src="images/img_003.jpg" alt="花の写真03" />
              </li>
              <li class="imgArea-img04">
                <img src="images/img_004.jpg" alt="花の写真04" />
              </li>
              <li class="imgArea-img05">
                <img src="images/img_005.jpg" alt="花の写真05" />
              </li>
            </ul>
            <div id="prev"><i class="fas fa-chevron-left"></i></div>
            <div id="next"><i class="fas fa-chevron-right"></i></div>
          </div>
          <nav>
            <ul>
              <li><img src="images/img_001s.jpg" alt="花01" /></li>
              <li><img src="images/img_002s.jpg" alt="花02" /></li>
              <li><img src="images/img_003s.jpg" alt="花03" /></li>
              <li><img src="images/img_004s.jpg" alt="花04" /></li>
              <li><img src="images/img_005s.jpg" alt="花05" /></li>
            </ul>
          </nav>
        </section>
        <article>
          <section class="message-area">
            <h1 class="message-title">Message 01</h1>
            <p class="message-contents">
              <img src="images/photo01_thum.jpg" alt="Photo01" />
              In towns and cities across the United States, police officers find
              themselves playing dual roles as law enforcers and psychiatric
              social workers. County jails and state prisons have become de
              facto mental institutions; in New York, for instance, a surge of
              stabbings, beatings and other violence at Rikers Island has been
              attributed in part to an influx of mentally ill inmates, who
              respond erratically to discipline and are vulnerable targets for
              other prisoners. “
            </p>
          </section>
          <section class="message-area">
            <h1 class="message-title">Message 02</h1>
            <p class="message-contents">
              <img src="images/photo02_thum.jpg" alt="Photo02" />
              China has criticised Tibet's spiritual leader, the Dalai Lama,
              over comments he reportedly made on a spate of self-immolations by
              ethnic Tibetans.
              <br />
              Speaking in Japan, the Dalai Lama was quoted saying China was not
              "seriously" looking at the causes of the protests and focusing on
              blaming him instead. China's foreign ministry accused him of
              "glorifying" the self-immolations.
            </p>
          </section>
          <section class="message-area">
            <h1 class="message-title">Message 03</h1>
            <p class="message-contents">
              <img src="images/photo03_thum.jpg" alt="Photo03" />
              Move over, Bitcoin. There is another uncommon tender angling for a
              spotlight, or in this case, a comeback: the $2 bill. Heather
              McCabe is on a one-woman mission to revitalize the quirky
              greenback through deliberate casual use. For others like Matthew
              Zaklad, who pours roughly 7,000 notes into circulation each year,
              the goal is to create meaningful interactions in otherwise mundane
              encounters
            </p>
          </section>
        </article>
      </main>
      <footer>
        <p><small>Copyright &copy; 2022 Yoshihiro Takahashi</small></p>
      </footer>
    </div>
    <script>
      "use strict";
      const nextBtn = document.querySelector("#next");
      const prevBtn = document.querySelector("#prev");
      const mainImgLi = document.querySelectorAll(".imgArea li");
      const imgBtns = document.querySelectorAll("nav ul li");
      const msgH1s = document.querySelectorAll(".message-title");
      const msgH1_ = document.querySelector(".message-title");
      const msgH1_all = document.querySelectorAll(".message-title");
      const miniImg = document.querySelectorAll(".message-contents img");
      let no = 0;
      let index = 0;
      let oldIndex = 0;

      let removeClass = () => {
        mainImgLi.forEach((img) => {
          img.classList.remove("fadeIn2");
          img.classList.remove("fadeIn");
          img.classList.remove("fadeOut");
          img.classList.remove("fadeOut2");
        });
      };
      nextBtn.addEventListener("mousedown", () => {
        //マウスボタンを押した瞬間にclassを削除
        removeClass();
      });
      prevBtn.addEventListener("mousedown", () => {
        //マウスボタンを押した瞬間にclassを削除
        removeClass();
      });
      nextBtn.addEventListener("click", () => {
        no++;
        if (no === 5) {
          no = 0;
        }
        console.log(no);

        mainImgLi.forEach((img) => {
          img.style.opacity = 0;
        });

        mainImgLi[no].style.opacity = 1;
        mainImgLi[no].classList.add("fadeIn");
        if (no === 0) {
          mainImgLi[4].classList.add("fadeOut");
        } else {
          mainImgLi[no - 1].classList.add("fadeOut");
        }
      });
      prevBtn.addEventListener("click", () => {
        no--;
        if (no === -1) {
          no = 4;
        }
        console.log(no);
        mainImgLi.forEach((img) => {
          img.style.opacity = 0;
        });

        mainImgLi[no].style.opacity = 1;
        mainImgLi[no].classList.add("fadeIn");
        if (no === 4) {
          mainImgLi[0].classList.add("fadeOut");
        } else {
          mainImgLi[no + 1].classList.add("fadeOut");
        }
      });

      imgBtns.forEach((btn) => {
        btn.addEventListener("mouseenter", () => {
          btn.style.opacity = 0.5;
        });
        btn.addEventListener("mouseleave", () => {
          btn.style.opacity = 1;
        });
        btn.addEventListener("mousedown", () => {
          removeClass();
        });
        btn.addEventListener("click", () => {
          oldIndex = index;
          index = Array.from(imgBtns).indexOf(btn);
          console.log(index);
          no = index;
          mainImgLi.forEach((img) => {
            img.style.opacity = 0;
          });
          if (oldIndex !== index) {
            mainImgLi[oldIndex].classList.add("fadeOut2");
          }
          mainImgLi[index].style.opacity = 1;
          mainImgLi[index].classList.add("fadeIn2");
        });
      });

      msgH1s.forEach((h1) => {
        h1.addEventListener("click", () => {
          h1.nextElementSibling.classList.toggle("none");
        });
      });
    </script>
  </body>
</html>
